{% extends "base.xhtml" %}

{% block title %}Ingresar{% endblock %}

{% block content %}
<section class="min-h-[70vh] flex items-center justify-center py-24 bg-background-light dark:bg-slate-950">
    <div class="container mx-auto px-6">
        <div class="max-w-md mx-auto">
            <div
                class="bg-white dark:bg-slate-900 rounded-2xl p-8 md:p-12 shadow-sm border border-slate-100 dark:border-slate-800">
                <!-- Logo -->
                <div class="text-center mb-8">
                    <div class="flex items-center justify-center gap-2 mb-4">
                        <div class="flex items-center">
                            <div class="bg-primary text-white font-display font-bold text-xl px-3 py-2 rounded-l-md">
                                GIPIS</div>
                            <div class="bg-secondary text-white px-2 py-2 rounded-r-md"
                                style="clip-path: polygon(0 0, 100% 0, 100% 100%, 15% 100%);"></div>
                        </div>
                    </div>
                    <h1 class="font-display text-2xl font-bold text-slate-900 dark:text-white mb-2">Bienvenido</h1>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Ingresá con tu cuenta de miembro</p>
                </div>

                <!-- Flash messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div
                    class="mb-6 px-4 py-3 rounded-lg {% if category == 'error' %}bg-red-50 text-red-700 border border-red-200{% else %}bg-green-50 text-green-700 border border-green-200{% endif %} text-sm">
                    {{ message }}
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <!-- Login Form -->
                <form action="{{ url_for('auth.login') }}" method="post">
                    <div class="mb-6">
                        <label for="email" class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">
                            Correo Electrónico
                        </label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xl">mail</span>
                            <input type="email" id="email" name="email" required placeholder="tu.email@ing.unp.edu.ar"
                                class="w-full pl-11 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary" />
                        </div>
                    </div>

                    <div class="mb-8">
                        <label for="password"
                            class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">
                            Contraseña
                        </label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xl">lock</span>
                            <input type="password" id="password" name="password" required placeholder="••••••••"
                                class="w-full pl-11 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary" />
                        </div>
                    </div>

                    <button type="submit"
                        class="w-full bg-primary hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold text-lg transition-all flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">login</span>
                        Ingresar
                    </button>
                </form>

                <div class="mt-6 text-center">
                    <a href="{{ url_for('main.home') }}"
                        class="text-sm text-slate-500 hover:text-primary transition-colors">
                        ← Volver al inicio
                    </a>
                </div>
            </div>

            <p class="text-center text-xs text-slate-400 mt-6">
                ¿No tenés cuenta? Contactá al administrador del grupo.
            </p>
        </div>
    </div>
</section>
{% endblock %}